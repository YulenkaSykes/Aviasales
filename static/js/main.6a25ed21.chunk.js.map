{"version":3,"sources":["Componets/Card.js","Componets/SideBar.js","Componets/NavBar.js","App.js","reportWebVitals.js","index.js"],"names":["Card","ticket","carrier","price","segments","fixDate","d","toString","length","className","src","alt","map","segment","i","duration","Date","setMinutes","date","parse","arrivalDate","origin","destination","getHours","getMinutes","stops","stop","SideBar","useContext","Context","data","dispatch","useState","filters","setFilters","type","onChange","payload","tickets","checked","filter","e","every","el","NavBar","active","setActive","onClick","sort","el1","el2","clicked","createContext","reducer","action","searchId","App","useReducer","background","theme","setTheme","useEffect","fetch","then","response","json","console","log","Provider","value","style","color","Icon","fontSize","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a25ed21.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Card = ({ ticket }) => {\r\n  const { carrier, price, segments } = ticket;\r\n\r\n  const fixDate = (d) => (d.toString().length < 2 ? \"0\" + d : d);\r\n\r\n  return (\r\n    <div className=\"card col centered shadow\">\r\n      <div className=\"row centered card_c\">\r\n        <h5 className=\"price\">{price} P</h5>\r\n        <img src={`http://pics.avs.io/99/36/${carrier}.png`} alt={carrier} />\r\n      </div>\r\n      {segments.map((segment, i) => {\r\n        const duration = new Date();\r\n        duration.setMinutes(segment.duration);\r\n\r\n        const date = new Date(Date.parse(segment.date));\r\n        const arrivalDate = new Date(date - duration * 60);\r\n\r\n        return (\r\n          <div key={i} className=\"row centered segment-wrapper\">\r\n            <div className=\"col colum chentered\">\r\n              <span className=\"grey\">\r\n                {segment.origin}-{segment.destination}\r\n              </span>\r\n              <span>\r\n                {fixDate(arrivalDate.getHours())}:\r\n                {fixDate(arrivalDate.getMinutes())} - {fixDate(date.getHours())}\r\n                :{fixDate(date.getMinutes())}\r\n              </span>\r\n            </div>\r\n            <div className=\"col colum centered\">\r\n              <span className=\"grey\">duration</span>\r\n              <span>\r\n                {fixDate(duration.getHours())}h {fixDate(duration.getMinutes())}\r\n                m\r\n              </span>\r\n            </div>\r\n            <div className=\"col colum centered\">\r\n              <span className=\"grey\">transfers</span>\r\n              <div className=\"row centered\">\r\n                {segment.stops.map((stop) => (\r\n                  <span>{stop} </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Context } from \"../App\";\r\n\r\nconst SideBar = () => {\r\n  const { data, dispatch } = useContext(Context);\r\n  const [filters, setFilters] = useState(\"all\");\r\n  return (\r\n    <div className=\"sideBar col shadow\">\r\n      <p>Transfers</p>\r\n      <span className=\"checkbox\">\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={() => {\r\n            setFilters(\"all\");\r\n            dispatch({ type: \"filters\", payload: data.tickets });\r\n          }}\r\n          checked={filters === \"all\"}\r\n        />\r\n        All\r\n      </span>\r\n      <span>\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={() => {\r\n            setFilters(\"none\");\r\n            dispatch({\r\n              type: \"filters\",\r\n              payload: data.tickets.filter((e) =>\r\n                e.segments.every((el) => el.stops.length === 0)\r\n              ),\r\n            });\r\n          }}\r\n          checked={filters === \"none\"}\r\n        />\r\n        Without transfers\r\n      </span>\r\n      <span>\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={() => {\r\n            setFilters(\"t1\");\r\n            dispatch({\r\n              type: \"filters\",\r\n              payload: data.tickets.filter((e) =>\r\n                e.segments.every((el) => el.stops.length === 1)\r\n              ),\r\n            });\r\n          }}\r\n          checked={filters === \"t1\"}\r\n        />\r\n        1 transfer\r\n      </span>\r\n      <span>\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={() => {\r\n            setFilters(\"t2\");\r\n            dispatch({\r\n              type: \"filters\",\r\n              payload: data.tickets.filter((e) =>\r\n                e.segments.every((el) => el.stops.length === 2)\r\n              ),\r\n            });\r\n          }}\r\n          checked={filters === \"t2\"}\r\n        />\r\n        2 transfers\r\n      </span>\r\n      <span>\r\n        <input\r\n          type=\"checkbox\"\r\n          onChange={() => {\r\n            setFilters(\"t3\");\r\n            dispatch({\r\n              type: \"filters\",\r\n              payload: data.tickets.filter((e) =>\r\n                e.segments.every((el) => el.stops.length === 3)\r\n              ),\r\n            });\r\n          }}\r\n          checked={filters === \"t3\"}\r\n        />\r\n        3 transfers\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Context } from \"../App\";\r\n\r\nconst NavBar = () => {\r\n  const { data, dispatch } = useContext(Context);\r\n  const [active, setActive] = useState(\"cheap\");\r\n\r\n  return (\r\n    <div className=\"row centered btn\">\r\n      <div className=\"button row\">\r\n        <button\r\n          className={`${active === \"cheap\" && \"active\"}`}\r\n          onClick={() => {\r\n            setActive(\"cheap\");\r\n            dispatch({\r\n              type: \"filters\",\r\n              payload: [...data.tickets].sort(\r\n                (el1, el2) => el2.price - el1.price\r\n              ),\r\n            });\r\n          }}\r\n          clicked={active === \"cheap\"}\r\n        >\r\n          Cheap\r\n        </button>\r\n        <button\r\n          className={`${active === \"speed\" ? \"active\" : \"button\"}`}\r\n          onClick={() => {\r\n            setActive(\"speed\");\r\n            dispatch({\r\n              type: \"filters\",\r\n              payload: [...data.tickets].sort(\r\n                (el1, el2) =>\r\n                  el2.segments[0].duration - el1.segments[0].duration\r\n              ),\r\n            });\r\n          }}\r\n          clicked={active === \"speed\"}\r\n        >\r\n          Speed\r\n        </button>\r\n        <button\r\n          className={`${active === \"optimal\" ? \"active\" : \"button\"}`}\r\n          onClick={() => {\r\n            setActive(\"optimal\");\r\n            dispatch({ type: \"filters\", payload: data.tickets });\r\n          }}\r\n          clicked={active === \"optimal\"}\r\n        >\r\n          Optimal\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import \"./App.css\";\r\nimport \"./frame.css\";\r\nimport React, { useReducer, createContext, useEffect, useState } from \"react\";\r\nimport Card from \"./Componets/Card\";\r\nimport SideBar from \"./Componets/SideBar\";\r\nimport NavBar from \"./Componets/NavBar\";\r\nimport { Icon } from \"@material-ui/core\";\r\nexport const Context = createContext(null);\r\n\r\nconst reducer = (data, action) => {\r\n  switch (action.type) {\r\n    case \"searchId\":\r\n      return { ...data, searchId: action.payload };\r\n    case \"tickets\":\r\n      return { ...data, tickets: action.payload };\r\n    case \"filters\":\r\n      return { ...data, filters: action.payload };\r\n    default:\r\n      return data;\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [data, dispatch] = useReducer(reducer, {});\r\n  const [theme, setTheme] = useState({ background: \"rgb(230, 240, 251)\" });\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://front-test.beta.aviasales.ru/search\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        dispatch({ type: \"searchId\", payload: data.searchId });\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://front-test.beta.aviasales.ru/tickets?searchId=${data.searchId}`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        dispatch({ type: \"tickets\", payload: data.tickets });\r\n      });\r\n  }, [data.searchId]);\r\n\r\n  return (\r\n    <Context.Provider value={{ data, dispatch }}>\r\n      <div className=\"App col centered\" style={theme}>\r\n        <div className=\"row centered\">\r\n          <div\r\n            className=\"circle\"\r\n            style={{ background: \"rgb(180, 180, 233)\" }}\r\n            onClick={() => setTheme({ background: \" rgb(230, 240, 251)\" })}\r\n          ></div>\r\n          <div\r\n            className=\"circle\"\r\n            style={{ background: \"black\" }}\r\n            onClick={() =>\r\n              setTheme({\r\n                background: \"linear-gradient(90deg,#050505, #484c4d)\",\r\n                color: \"black\",\r\n              })\r\n            }\r\n          ></div>\r\n          <div\r\n            className=\"circle\"\r\n            style={{ background: \"linear-gradient(90deg,#ce650f, #fb2004)\" }}\r\n            onClick={() =>\r\n              setTheme({\r\n                background: \"linear-gradient(90deg,#ce650f, #fb2004)\",\r\n                color: \"black\",\r\n              })\r\n            }\r\n          ></div>\r\n        </div>\r\n        <img src=\"./Logo.png\" alt=\"\" className=\" logo\" />\r\n        <div className=\"row wrapper\">\r\n          <SideBar />\r\n          <div className=\"col centered card-wrapper\">\r\n            <NavBar />\r\n            {data.filters ? (\r\n              data.filters.map((e) => <Card ticket={e} />)\r\n            ) : data.tickets ? (\r\n              data.tickets.map((e) => <Card ticket={e} />)\r\n            ) : (\r\n              <div>\r\n                <Icon fontSize=\"large\" className=\"loop\">\r\n                  loop\r\n                </Icon>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}