(this.webpackJsonppractice2=this.webpackJsonppractice2||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(13),r=c.n(a),i=(c(24),c(3)),o=c(4),l=(c(25),c(26),c(0)),d=function(e){var t=e.ticket,c=t.carrier,n=t.price,s=t.segments,a=function(e){return e.toString().length<2?"0"+e:e};return Object(l.jsxs)("div",{className:"card col centered shadow",children:[Object(l.jsxs)("div",{className:"row centered card_c",children:[Object(l.jsxs)("h5",{className:"price",children:[n," P"]}),Object(l.jsx)("img",{src:"http://pics.avs.io/99/36/".concat(c,".png"),alt:c})]}),s.map((function(e,t){var c=new Date;c.setMinutes(e.duration);var n=new Date(Date.parse(e.date)),s=new Date(n-60*c);return Object(l.jsxs)("div",{className:"row centered segment-wrapper",children:[Object(l.jsxs)("div",{className:"col colum chentered",children:[Object(l.jsxs)("span",{className:"grey",children:[e.origin,"-",e.destination]}),Object(l.jsxs)("span",{children:[a(s.getHours()),":",a(s.getMinutes())," - ",a(n.getHours()),":",a(n.getMinutes())]})]}),Object(l.jsxs)("div",{className:"col colum centered",children:[Object(l.jsx)("span",{className:"grey",children:"duration"}),Object(l.jsxs)("span",{children:[a(c.getHours()),"h ",a(c.getMinutes()),"m"]})]}),Object(l.jsxs)("div",{className:"col colum centered",children:[Object(l.jsx)("span",{className:"grey",children:"transfers"}),Object(l.jsx)("div",{className:"row centered",children:e.stops.map((function(e){return Object(l.jsxs)("span",{children:[e," "]})}))})]})]},t)}))]})},u=function(){var e=Object(n.useContext)(h),t=e.data,c=e.dispatch,s=Object(n.useState)("all"),a=Object(i.a)(s,2),r=a[0],o=a[1];return Object(l.jsxs)("div",{className:"sideBar col shadow",children:[Object(l.jsx)("p",{children:"Transfers"}),Object(l.jsxs)("span",{className:"checkbox",children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){o("all"),c({type:"filters",payload:t.tickets})},checked:"all"===r}),"All"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){o("none"),c({type:"filters",payload:t.tickets.filter((function(e){return e.segments.every((function(e){return 0===e.stops.length}))}))})},checked:"none"===r}),"Without transfers"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){o("t1"),c({type:"filters",payload:t.tickets.filter((function(e){return e.segments.every((function(e){return 1===e.stops.length}))}))})},checked:"t1"===r}),"1 transfer"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){o("t2"),c({type:"filters",payload:t.tickets.filter((function(e){return e.segments.every((function(e){return 2===e.stops.length}))}))})},checked:"t2"===r}),"2 transfers"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){o("t3"),c({type:"filters",payload:t.tickets.filter((function(e){return e.segments.every((function(e){return 3===e.stops.length}))}))})},checked:"t3"===r}),"3 transfers"]})]})},j=c(12),b=function(){var e=Object(n.useContext)(h),t=e.data,c=e.dispatch,s=Object(n.useState)("cheap"),a=Object(i.a)(s,2),r=a[0],o=a[1];return Object(l.jsx)("div",{className:"row centered btn",children:Object(l.jsxs)("div",{className:"button row",children:[Object(l.jsx)("button",{className:"".concat("cheap"===r&&"active"),onClick:function(){o("cheap"),c({type:"filters",payload:Object(j.a)(t.tickets).sort((function(e,t){return t.price-e.price}))})},clicked:"cheap"===r,children:"Cheap"}),Object(l.jsx)("button",{className:"".concat("speed"===r?"active":"button"),onClick:function(){o("speed"),c({type:"filters",payload:Object(j.a)(t.tickets).sort((function(e,t){return t.segments[0].duration-e.segments[0].duration}))})},clicked:"speed"===r,children:"Speed"}),Object(l.jsx)("button",{className:"".concat("optimal"===r?"active":"button"),onClick:function(){o("optimal"),c({type:"filters",payload:t.tickets})},clicked:"optimal"===r,children:"Optimal"})]})})},p=c(44),h=Object(n.createContext)(null),f=function(e,t){switch(t.type){case"searchId":return Object(o.a)(Object(o.a)({},e),{},{searchId:t.payload});case"tickets":return Object(o.a)(Object(o.a)({},e),{},{tickets:t.payload});case"filters":return Object(o.a)(Object(o.a)({},e),{},{filters:t.payload});default:return e}};var O=function(){var e=Object(n.useReducer)(f,{}),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)({background:"rgb(230, 240, 251)"}),r=Object(i.a)(a,2),o=r[0],j=r[1];return Object(n.useEffect)((function(){fetch("https://front-test.beta.aviasales.ru/search").then((function(e){return e.json()})).then((function(e){console.log(e),s({type:"searchId",payload:e.searchId})}))}),[]),Object(n.useEffect)((function(){fetch("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(c.searchId)).then((function(e){return e.json()})).then((function(e){console.log(e),s({type:"tickets",payload:e.tickets})}))}),[c.searchId]),Object(l.jsx)(h.Provider,{value:{data:c,dispatch:s},children:Object(l.jsxs)("div",{className:"App col centered",style:o,children:[Object(l.jsxs)("div",{className:"row centered",children:[Object(l.jsx)("div",{className:"circle",style:{background:"rgb(180, 180, 233)"},onClick:function(){return j({background:" rgb(230, 240, 251)"})}}),Object(l.jsx)("div",{className:"circle",style:{background:"black"},onClick:function(){return j({background:"linear-gradient(90deg,#050505, #484c4d)",color:"black"})}}),Object(l.jsx)("div",{className:"circle",style:{background:"linear-gradient(90deg,#ce650f, #fb2004)"},onClick:function(){return j({background:"linear-gradient(90deg,#ce650f, #fb2004)",color:"black"})}})]}),Object(l.jsx)("img",{src:"./Logo.png",alt:"",className:" logo"}),Object(l.jsxs)("div",{className:"row wrapper",children:[Object(l.jsx)(u,{}),Object(l.jsxs)("div",{className:"col centered card-wrapper",children:[Object(l.jsx)(b,{}),c.filters?c.filters.map((function(e){return Object(l.jsx)(d,{ticket:e})})):c.tickets?c.tickets.map((function(e){return Object(l.jsx)(d,{ticket:e})})):Object(l.jsx)("div",{children:Object(l.jsx)(p.a,{fontSize:"large",className:"loop",children:"loop"})})]})]})]})})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),g()}},[[32,1,2]]]);
//# sourceMappingURL=main.6a25ed21.chunk.js.map